<html><head></head><body><div data-v-4258d350="" class="lfe-marked-wrap" style="overflow: hidden; box-sizing: border-box; padding: 0px; margin: 0px; scroll-margin-top: 4rem; color: rgb(64, 64, 64); font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Noto Sans&quot;, &quot;Noto Sans SC&quot;, &quot;Source Sans Pro&quot;, &quot;Source Han Sans&quot;, &quot;Segoe UI&quot;, Arial, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 16px; background-color: rgb(255, 255, 255);"><div class="lfe-marked" style="overflow-wrap: break-word; scroll-margin-top: 4rem;"><h1 style="margin: 0.5rem 0px; padding-bottom: 0.2em; border-bottom: 1px solid rgb(238, 238, 238); scroll-margin-top: 4rem;">仿洛谷的图形验证码系统</h1><p style="margin-block: 1em; margin: 1rem 0px; scroll-margin-top: 4rem;">By&nbsp;<span style="font-weight: bolder; scroll-margin-top: 4rem;">sunny_town</span></p><h2 style="padding-bottom: 0.2em; border-bottom: 1px solid rgb(238, 238, 238); margin: 0.5rem 0px; scroll-margin-top: 4rem;">关于</h2><p style="margin-block: 1em; margin: 1rem 0px; scroll-margin-top: 4rem;">这是sunny_town验证码系统，目前还不支持markdown的<code style="font-size: 0.875em; background-color: rgb(250, 250, 250); border: 1px solid rgb(232, 232, 232); border-radius: 2px; margin: 0px 0.2em; padding: 0.1em 0.2em; white-space-collapse: preserve; tab-size: 4; display: inline; overflow-wrap: break-word; word-break: break-all; scroll-margin-top: 4rem;">![图片描述](图片链接)</code>，但支持HTML嵌入，<span style="font-weight: bolder; scroll-margin-top: 4rem;">不喜勿喷</span>。</p><h2 style="padding-bottom: 0.2em; border-bottom: 1px solid rgb(238, 238, 238); margin: 0.5rem 0px; scroll-margin-top: 4rem;">使用</h2><p style="margin-block: 1em; margin: 1rem 0px; scroll-margin-top: 4rem;">随机位置、文字颜色、背景颜色、干扰项！</p><p style="margin-block: 1em; margin: 1rem 0px; scroll-margin-top: 4rem;">每次刷新图片都会<span style="font-weight: bolder; scroll-margin-top: 4rem;">变</span>！</p><h3 style="margin: 0.5rem 0px; scroll-margin-top: 4rem;">普通版</h3><p style="margin-block: 1em; margin: 1rem 0px; scroll-margin-top: 4rem;">链接：<span style="font-weight: bolder; scroll-margin-top: 4rem;"><a href="https://stcaptcha.pages.dev/captcha" style="background-color: transparent; text-decoration-line: none; transition: filter 0.1s ease 0s; cursor: pointer; scroll-margin-top: 4rem;">https://stcaptcha.pages.dev/captcha</a></span>，目前也提供<span style="font-weight: bolder; scroll-margin-top: 4rem;">下载图片版</span>，就是一打开就下载验证码PNG，其网站名称为&nbsp;<span style="font-weight: bolder; scroll-margin-top: 4rem;"><a href="https://stcaptcha.pages.dev/newcaptcha.png" style="background-color: transparent; text-decoration-line: none; transition: filter 0.1s ease 0s; cursor: pointer; scroll-margin-top: 4rem;">https://stcaptcha.pages.dev/newcaptcha.png</a></span>。</p><h3 style="margin: 0.5rem 0px; scroll-margin-top: 4rem;">趣味版</h3><p style="margin-block: 1em; margin: 1rem 0px; scroll-margin-top: 4rem;">什么？想要一点趣味？好好好！<span style="font-weight: bolder; scroll-margin-top: 4rem;"><a href="https://stcaptcha.pages.dev/zh-captcha" style="background-color: transparent; text-decoration-line: none; transition: filter 0.1s ease 0s; cursor: pointer; scroll-margin-top: 4rem;">https://stcaptcha.pages.dev/zh-captcha</a></span>&nbsp;就是趣味！（该链接纯娱乐，不信你点开看看）<span style="font-weight: bolder; scroll-margin-top: 4rem;">趣味版最近有点Bug，当然可以使用趣味版的下载PNG图片版&nbsp;<a href="https://stcaptcha.pages.dev/newzh-captcha.png" style="background-color: transparent; text-decoration-line: none; transition: filter 0.1s ease 0s; cursor: pointer; scroll-margin-top: 4rem;">https://stcaptcha.pages.dev/newzh-captcha.png</a>。</span></p><p style="margin-block: 1em; margin: 1rem 0px; scroll-margin-top: 4rem;"><span style="font-weight: bolder; scroll-margin-top: 4rem;">当然，为了防止恶意滥用验证码，我在右下角加了一个小小的水印，里面写着<code style="font-size: 0.875em; background-color: rgb(250, 250, 250); border: 1px solid rgb(232, 232, 232); border-radius: 2px; margin: 0px 0.2em; padding: 0.1em 0.2em; white-space-collapse: preserve; tab-size: 4; display: inline; overflow-wrap: break-word; word-break: break-all; scroll-margin-top: 4rem;">此验证码由sunny_town提供"</code>，应该不介意吧？</span></p><h2 style="padding-bottom: 0.2em; border-bottom: 1px solid rgb(238, 238, 238); margin: 0.5rem 0px; scroll-margin-top: 4rem;">嵌入到HTML</h2><p style="margin-block: 1em; margin: 1rem 0px; scroll-margin-top: 4rem;"><a href="https://stcaptcha.pages.dev/go-captchaceshi" style="background-color: transparent; text-decoration-line: none; transition: filter 0.1s ease 0s; cursor: pointer; scroll-margin-top: 4rem;">效果</a>。可通过HTML的<code style="font-size: 0.875em; background-color: rgb(250, 250, 250); border: 1px solid rgb(232, 232, 232); border-radius: 2px; margin: 0px 0.2em; padding: 0.1em 0.2em; white-space-collapse: preserve; tab-size: 4; display: inline; overflow-wrap: break-word; word-break: break-all; scroll-margin-top: 4rem;">&lt;iframe&gt;</code>调用。</p><p style="margin-block: 1em; margin: 1rem 0px; scroll-margin-top: 4rem;"><code style="font-size: 0.875em; background-color: rgb(250, 250, 250); border: 1px solid rgb(232, 232, 232); border-radius: 2px; margin: 0px 0.2em; padding: 0.1em 0.2em; white-space-collapse: preserve; tab-size: 4; display: inline; overflow-wrap: break-word; word-break: break-all; scroll-margin-top: 4rem;">&lt;iframe&gt;</code>部分：</p><pre style="font-size: 0.875em; background-color: rgb(250, 250, 250); border: 1px solid rgb(232, 232, 232); border-radius: 2px; margin-top: 0px; margin-bottom: 0px; padding: 1em; overflow: auto hidden; scroll-margin-top: 4rem;"><code class="language-html hljs" style="font-size: unset; color: rgb(77, 77, 76); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0px; border: none; border-radius: 2px; margin: 0px; tab-size: 4; display: block; overflow-x: auto; scroll-margin-top: 4rem;"><span class="hljs-tag" style="color: rgb(150, 152, 150); scroll-margin-top: 4rem;">&lt;<span class="hljs-name" style="color: rgb(200, 40, 41); scroll-margin-top: 4rem;">iframe</span> <span class="hljs-attr" style="color: rgb(245, 135, 31); scroll-margin-top: 4rem;">src</span>=<span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">"https://stcaptcha.pages.dev/captchayanzheng"</span> <span class="hljs-attr" style="color: rgb(245, 135, 31); scroll-margin-top: 4rem;">style</span>=<span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">"width: 320px; height: 200px; border-width: initial; border-style: none; box-shadow: rgba(0, 0, 0, 0.1) 2px 2px 8px;"</span>&gt;</span><span class="hljs-tag" style="color: rgb(150, 152, 150); scroll-margin-top: 4rem;">&lt;/<span class="hljs-name" style="color: rgb(200, 40, 41); scroll-margin-top: 4rem;">iframe</span>&gt;</span></code></pre><p style="margin-block: 1em; margin: 1rem 0px; scroll-margin-top: 4rem;">检测消息部分：</p><pre style="font-size: 0.875em; background-color: rgb(250, 250, 250); border: 1px solid rgb(232, 232, 232); border-radius: 2px; margin-top: 0px; margin-bottom: 0px; padding: 1em; overflow: auto hidden; scroll-margin-top: 4rem;"><code class="language-html hljs" style="font-size: unset; color: rgb(77, 77, 76); background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0px; border: none; border-radius: 2px; margin: 0px; tab-size: 4; display: block; overflow-x: auto; scroll-margin-top: 4rem;"><span class="hljs-tag" style="color: rgb(150, 152, 150); scroll-margin-top: 4rem;">&lt;<span class="hljs-name" style="color: rgb(200, 40, 41); scroll-margin-top: 4rem;">div</span> <span class="hljs-attr" style="color: rgb(245, 135, 31); scroll-margin-top: 4rem;">class</span>=<span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">"message"</span> <span class="hljs-attr" style="color: rgb(245, 135, 31); scroll-margin-top: 4rem;">id</span>=<span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">"message"</span>&gt;</span><span class="hljs-tag" style="color: rgb(150, 152, 150); scroll-margin-top: 4rem;">&lt;/<span class="hljs-name" style="color: rgb(200, 40, 41); scroll-margin-top: 4rem;">div</span>&gt;</span>

<span class="hljs-tag" style="color: rgb(150, 152, 150); scroll-margin-top: 4rem;">&lt;<span class="hljs-name" style="color: rgb(200, 40, 41); scroll-margin-top: 4rem;">script</span>&gt;</span><span class="language-javascript" style="scroll-margin-top: 4rem;">
  <span class="hljs-variable language_" style="color: rgb(200, 40, 41); scroll-margin-top: 4rem;">window</span>.<span class="hljs-title function_" style="color: rgb(66, 113, 174); scroll-margin-top: 4rem;">addEventListener</span>(<span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">'message'</span>, <span class="hljs-function" style="scroll-margin-top: 4rem;">(<span class="hljs-params" style="scroll-margin-top: 4rem;">event</span>) =&gt;</span> {
    <span class="hljs-comment" style="color: rgb(142, 144, 140); scroll-margin-top: 4rem;">// 验证消息来源</span>
    <span class="hljs-keyword" style="color: rgb(137, 89, 168); scroll-margin-top: 4rem;">if</span> (event.<span class="hljs-property" style="scroll-margin-top: 4rem;">origin</span> === <span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">'https://stcaptcha.pages.dev'</span>) {
      <span class="hljs-keyword" style="color: rgb(137, 89, 168); scroll-margin-top: 4rem;">const</span> messageElement = <span class="hljs-variable language_" style="color: rgb(200, 40, 41); scroll-margin-top: 4rem;">document</span>.<span class="hljs-title function_" style="color: rgb(66, 113, 174); scroll-margin-top: 4rem;">getElementById</span>(<span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">'message'</span>);
      <span class="hljs-keyword" style="color: rgb(137, 89, 168); scroll-margin-top: 4rem;">const</span> message = event.<span class="hljs-property" style="scroll-margin-top: 4rem;">data</span>;

      <span class="hljs-keyword" style="color: rgb(137, 89, 168); scroll-margin-top: 4rem;">if</span> (message === <span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">'ok'</span>) {
        <span class="hljs-comment" style="color: rgb(142, 144, 140); scroll-margin-top: 4rem;">// 可以改成其他的</span>
        messageElement.<span class="hljs-property" style="scroll-margin-top: 4rem;">innerText</span> = <span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">'恭喜，验证成功！'</span>;
        messageElement.<span class="hljs-property" style="scroll-margin-top: 4rem;">style</span>.<span class="hljs-property" style="scroll-margin-top: 4rem;">color</span> = <span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">'green'</span>;
        
      } <span class="hljs-comment" style="color: rgb(142, 144, 140); scroll-margin-top: 4rem;">/*不通过，可删可不删*/</span><span class="hljs-keyword" style="color: rgb(137, 89, 168); scroll-margin-top: 4rem;">else</span> <span class="hljs-keyword" style="color: rgb(137, 89, 168); scroll-margin-top: 4rem;">if</span>(message === <span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">'notok'</span>) {
        <span class="hljs-comment" style="color: rgb(142, 144, 140); scroll-margin-top: 4rem;">// 可以改成其他的</span>
        messageElement.<span class="hljs-property" style="scroll-margin-top: 4rem;">innerText</span> = <span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">'咋啦？记得区分大小写哦~'</span>;
        messageElement.<span class="hljs-property" style="scroll-margin-top: 4rem;">style</span>.<span class="hljs-property" style="scroll-margin-top: 4rem;">color</span> = <span class="hljs-string" style="color: rgb(113, 140, 0); scroll-margin-top: 4rem;">'red'</span>;
        
      }
    }
  });

</span><span class="hljs-tag" style="color: rgb(150, 152, 150); scroll-margin-top: 4rem;">&lt;/<span class="hljs-name" style="color: rgb(200, 40, 41); scroll-margin-top: 4rem;">script</span>&gt;</span></code></pre><h3 style="margin: 0.5rem 0px; scroll-margin-top: 4rem;">原理</h3><p style="margin-block: 1em 0px; margin: 1rem 0px; scroll-margin-top: 4rem;">你的网站创建子窗口验证码平台，然后子窗口向父窗口发送消息<code style="font-size: 0.875em; background-color: rgb(250, 250, 250); border: 1px solid rgb(232, 232, 232); border-radius: 2px; margin: 0px 0.2em; padding: 0.1em 0.2em; white-space-collapse: preserve; tab-size: 4; display: inline; overflow-wrap: break-word; word-break: break-all; scroll-margin-top: 4rem;">ok</code>（通过）或<code style="font-size: 0.875em; background-color: rgb(250, 250, 250); border: 1px solid rgb(232, 232, 232); border-radius: 2px; margin: 0px 0.2em; padding: 0.1em 0.2em; white-space-collapse: preserve; tab-size: 4; display: inline; overflow-wrap: break-word; word-break: break-all; scroll-margin-top: 4rem;">notok</code>（不通过），父窗口再根据消息内容进行处理。</p></div></div><div data-v-4258d350="" class="update-info lfe-caption" style="color: rgba(0, 0, 0, 0.5); font-size: 0.875em; scroll-margin-top: 4rem; margin: 1em 0px; text-align: right; font-family: -apple-system, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Noto Sans&quot;, &quot;Noto Sans SC&quot;, &quot;Source Sans Pro&quot;, &quot;Source Han Sans&quot;, &quot;Segoe UI&quot;, Arial, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; background-color: rgb(255, 255, 255);"><span data-v-4258d350="" style="scroll-margin-top: 4rem;">作者：sunny_town</span>&nbsp;&nbsp;&nbsp;&nbsp;<span data-v-4258d350="" style="scroll-margin-top: 4rem;">创建时间：<time data-v-4258d350="" datetime="2024-06-23T15:23:25.000Z" title="2024-06-23 23:23:25" style="scroll-margin-top: 4rem;">2024-06-23 23:23:25</time></span></div></body></html>
